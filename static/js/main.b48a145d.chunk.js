(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a.p+"static/media/elf-icon.f6a00497.png"},183:function(e,t,a){e.exports=a(321)},188:function(e,t,a){},189:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),i=a.n(l),o=(a(188),a(189),a(108)),s=a(48),c=a(49),u=a(52),m=a(50),d=a(53),p=a(172),h=a(335),g=a(171),E=a(331),v=a(111),f=a(322),b=a(153),I=a.n(b),L=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"login-form"},r.a.createElement("style",null,"body > div,body > div > div,body > div > div > div.login-form {  height: 100%;}"),r.a.createElement(p.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(p.a.Column,{style:{maxWidth:450}},r.a.createElement(h.a,{as:"h2",color:"teal",textAlign:"center"},r.a.createElement(g.a,{src:I.a})," ",r.a.createElement("strong",null,"Log in to your account")),r.a.createElement(E.a,{size:"large",onSubmit:e.handleLoginSubmit},r.a.createElement(v.a,{stacked:!0},r.a.createElement("strong",null,"Username:"),r.a.createElement(E.a.Input,{fluid:!0,icon:"user",iconPosition:"left",type:"text",name:"usernameInput",onChange:e.handleInputLogin,required:!0,placeholder:"username",value:e.loginUser}),r.a.createElement("strong",null,"Password:"),r.a.createElement(E.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",type:"password",name:"passwordInput",onChange:e.handleInputLogin,required:!0,placeholder:"password",value:e.loginPassword}),r.a.createElement(f.a,{color:"teal",fluid:!0,size:"large",type:"submit",value:"Log In",className:"ui button positive"},r.a.createElement("strong",null,"Login"))))))))},y=a(329),O=a(330),w=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{onSubmit:e.handleCreateMenuItems,size:"large",textalign:"center"},r.a.createElement("strong",null,"Category"),r.a.createElement("select",{name:"selectCategory"},r.a.createElement("option",{value:"pizza"},"Pizza"),r.a.createElement("option",{value:"Wings"},"Wings"),r.a.createElement("option",{value:"Beverage"},"Beverage")),r.a.createElement(E.a.Group,{widths:"equal"},r.a.createElement(E.a.Field,{control:y.a,label:"Item Name",placeholder:"Item Name",name:"item_name",onChange:e.handleMenuItemsInput,required:!0}),r.a.createElement(E.a.Field,{control:y.a,label:"Price",placeholder:"Price",type:"number",step:"0.01",name:"item_price",onChange:e.handleMenuItemsInput,required:!0}),r.a.createElement(E.a.Field,{control:y.a,label:"Image",placeholder:"image url",name:"img_url",onChange:e.handleMenuItemsInput,required:!0})),r.a.createElement(E.a.Field,{control:O.a,label:"Description",placeholder:"description",name:"item_description",onChange:e.handleMenuItemsInput}),r.a.createElement(E.a.Field,{control:f.a,content:"Submit",type:"submit",color:"teal",fluid:!0,style:{width:"15%"},id:"submitItem"})))},k=a(336),z=a(333),_=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).updateItemList=function(){fetch("https://backend-metro-pizza.herokuapp.com/api/v1/menu_items").then(function(e){return e.json()}).then(function(t){e.setState({displayItems:t})})},e.updateAfterDelete=function(){fetch("https://backend-metro-pizza.herokuapp.com/api/v1/menu_items").then(function(e){return e.json()}).then(function(t){e.setState({filteredItems:t})})},e.handleDeleteItem=function(t){return!!window.confirm("Are you sure you want to delete this?")&&(fetch("https://backend-metro-pizza.herokuapp.com/api/v1/menu_items/".concat(t.target.value),{method:"DELETE"}),setTimeout(e.updateAfterDelete,2e3),!0)},e.handleShowItemForm=function(t){switch(t.preventDefault(),e.updateItemList(),t.target.filterCategories.value){case"all":return e.setState({filteredItems:e.state.displayItems});case"pizza":var a;a=e.state.displayItems.filter(function(e){return"pizza"===e.category}),e.setState({filteredItems:a});break;case"wing":var n;n=e.state.displayItems.filter(function(e){return"Wings"===e.category}),e.setState({filteredItems:n});break;case"beverage":var r;r=e.state.displayItems.filter(function(e){return"Beverage"===e.category}),e.setState({filteredItems:r})}},e.state={displayItems:[],hideItems:!0,filteredItems:[]},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateItemList()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"manageItemList"},r.a.createElement("form",{onSubmit:this.handleShowItemForm},r.a.createElement("strong",null,"Filter:"),"  ",r.a.createElement("select",{name:"filterCategories"},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"pizza"},"Pizza"),r.a.createElement("option",{value:"wing"},"Wings"),r.a.createElement("option",{value:"beverage"},"Beverage"))," ",r.a.createElement(k.a,{content:"Display existing menu items, may use with filter",trigger:r.a.createElement(f.a,{color:"teal"},"Show items")})),"  ",r.a.createElement("br",null),r.a.createElement(z.a.Group,{centered:!0},this.state.filteredItems.map(function(t,a){return r.a.createElement(z.a,{key:a,header:r.a.createElement("div",null,t.name," - $ ",t.price),description:r.a.createElement("div",null,"category: ",t.category,r.a.createElement("br",null)," id: ",t.id),extra:r.a.createElement(f.a,{onClick:e.handleDeleteItem,value:t.id,negative:!0},"Delete")})})))}}]),t}(n.Component),C=a(334),S=a(332),P=a(39),T=function(e){return r.a.createElement("div",{id:"menuIcon"},r.a.createElement(S.a,{icon:r.a.createElement(P.a,{name:"bars",size:"large"})},r.a.createElement(S.a.Menu,{id:"dropdown_background"},r.a.createElement(f.a.Group,{vertical:!0},r.a.createElement("a",{href:"https://metro-pizza.herokuapp.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(f.a,null,"Visit Pizza Order Site"))),r.a.createElement("hr",null),r.a.createElement("a",{href:"https://github.com/YongLiang24",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(P.a,{name:"github",size:"large",link:!0})),r.a.createElement("a",{href:"https://www.linkedin.com/in/yongliang24/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(P.a,{name:"linkedin",size:"large",link:!0})))))},j=function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{as:"h1",textAlign:"center",color:"brown"},r.a.createElement(T,null),"Metro Pizza Management Center",r.a.createElement("br",null),r.a.createElement("button",{onClick:e.handleLogout,className:"small ui button primary"},"Logout")),r.a.createElement("hr",null),r.a.createElement(h.a,{textAlign:"center"},r.a.createElement("div",{className:"ui small buttons "},r.a.createElement(k.a,{content:"New Orders will display in this section",trigger:r.a.createElement("button",{className:"ui button active teal",value:"viewOrders",onClick:e.handleToggleDisplay},"View Orders")}),r.a.createElement("div",{className:"or"}),r.a.createElement(k.a,{content:"Menu items can be created or deleted in this section",trigger:r.a.createElement("button",{className:"ui button teal",value:"createItemForm",onClick:e.handleToggleDisplay},"Create Items")}))))},D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleUpdateOrderList=function(){fetch("https://backend-metro-pizza.herokuapp.com/api/v1/orders").then(function(e){return e.json()}).then(function(t){var a=[],n=[],r=[],l=[],i=[],o=[],s=[];e.setState({allOrderLists:t}),e.state.allOrderLists.reverse(),e.state.allOrderLists.map(function(c,u){return a.push(c.order_lists.toString().replace(/=>/g,": ").replace(/{/g,"").replace(/}/g,"").replace(/,/g," || ").replace(/"/g,"")),n.push(t[u].id),r.push(e.state.allOrderLists[u].Customer_Name),l.push(e.state.allOrderLists[u].Customer_Phone),i.push(e.state.allOrderLists[u].Order_Time),o.push(e.state.allOrderLists[u].Special_Instruction),s.push(e.state.allOrderLists[u].Total_Price),null}),e.setState({formattedOrderLists:a,orderListIds:n,customerNames:r,customerPhones:l,orderTimes:i,specialInstructions:o,totalPrices:s})})},e.handleButtonDisable=function(e){e.target.value&&(e.target.disabled=!0,e.target.className="secondary ui  button")},e.handleDeleteOrder=function(t){return!!window.confirm("Are you sure you want to delete this?")&&(fetch("https://backend-metro-pizza.herokuapp.com/api/v1/orders/".concat(t.target.name),{method:"DELETE"}),setTimeout(e.handleUpdateOrderList,2e3),!0)},e.handleLiveUpdate=function(t){e.setState({toggleLiveUpdate:!e.state.toggleLiveUpdate}),e.state.toggleLiveUpdate?(e.setState({liveUpdateText:"Off"}),clearInterval(e.state.toggleInterval)):e.setState({liveUpdateText:"On",toggleInterval:setInterval(e.handleUpdateOrderList,4e3)})},e.state={allOrderLists:[],formattedOrderLists:[],buttonDisable:!1,orderListIds:[],toggleLiveUpdate:!1,liveUpdateText:"Off",toggleInterval:"",customerNames:[],customerPhones:[],specialInstructions:[],totalPrices:[],orderTimes:[],disableButton:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://backend-metro-pizza.herokuapp.com/api/v1/orders").then(function(e){return e.json()}).then(function(t){var a=[],n=[],r=[],l=[],i=[],o=[],s=[];e.setState({allOrderLists:t}),e.state.allOrderLists.reverse(),e.state.allOrderLists.map(function(c,u){return a.push(c.order_lists.toString().replace(/=>/g,": ").replace(/{/g,"").replace(/}/g,"").replace(/,/g," || ").replace(/"/g,"")),n.push(t[u].id),r.push(e.state.allOrderLists[u].Customer_Name),l.push(e.state.allOrderLists[u].Customer_Phone),i.push(e.state.allOrderLists[u].Order_Time),o.push(e.state.allOrderLists[u].Special_Instruction),s.push(e.state.allOrderLists[u].Total_Price),null}),e.setState({formattedOrderLists:a,orderListIds:n,customerNames:r,customerPhones:l,orderTimes:i,specialInstructions:o,totalPrices:s})}),this.handleLiveUpdate()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.toggleInterval)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"order_div"},r.a.createElement(k.a,{content:"Turn LiveUpdate off to stop receiving new orders",trigger:r.a.createElement(f.a,{toggle:!0,active:this.state.toggleLiveUpdate,onClick:this.handleLiveUpdate},"Live Update ",this.state.liveUpdateText)}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a.Group,{centered:!0},this.state.formattedOrderLists.map(function(t,a){return r.a.createElement(z.a,{key:a,id:"order_card",header:r.a.createElement("div",null,r.a.createElement("strong",null,"Customer Name: ",e.state.customerNames[a]," || Phone: ",e.state.customerPhones[a]," || Time: ",e.state.orderTimes[a]),r.a.createElement("hr",null)),description:r.a.createElement("div",null,r.a.createElement("strong",null,"Items: - ",t),r.a.createElement("hr",null),"Notes:",r.a.createElement("br",null)," ",e.state.specialInstructions[a],r.a.createElement("br",null),r.a.createElement("br",null),"Total Cost: $",e.state.totalPrices[a]),extra:r.a.createElement(f.a.Group,null," ",r.a.createElement(f.a,{positive:!0,onClick:e.handleButtonDisable,value:a},"Mark Order")," ",r.a.createElement(f.a.Or,null),r.a.createElement(f.a,{onClick:e.handleDeleteOrder,name:e.state.orderListIds[a]},"Delete Order"))})})))}}]),t}(n.Component),U=[{menuItem:{icon:"users",content:"User Account",key:"users"},render:function(){return r.a.createElement(C.a.Pane,null,r.a.createElement("p",{className:"about_p"},r.a.createElement("strong",null,"Demo Account"),r.a.createElement("br",null),r.a.createElement("strong",null,"Username:")," metro ",r.a.createElement("br",null),r.a.createElement("strong",null,"Password:")," pizza"))}},{menuItem:{icon:"book",content:"About Page",key:"book"},render:function(){return r.a.createElement(C.a.Pane,null,r.a.createElement("p",{className:"about_p"},"Metro Pizza Management Center allows administrators",r.a.createElement("br",null)," to create or delete menu items for ",r.a.createElement("a",{href:"https://metro-pizza.herokuapp.com/",target:"_blank",rel:"noopener noreferrer"},"Metro Pizza")," site,",r.a.createElement("br",null)," as well as receive online orders in real time and manage such orders.",r.a.createElement("br",null)," This site was built with React.js and Semantic UI for User Interface and Ruby on Rails as backend."))}}],N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleInputLogin=function(t){e.setState(Object(o.a)({},t.target.name,t.target.value.toLowerCase()))},e.handleLoginSubmit=function(t){t.preventDefault(),fetch("https://backend-metro-pizza.herokuapp.com/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:e.state.usernameInput,password:e.state.passwordInput}})}).then(function(e){return e.json()}).then(function(t){t.jwt?e.setState({isLogin:!0,user_id:t.user.id}):alert("Incorrect username or password")})},e.handleLogout=function(){e.setState({isLogin:!1})},e.handleMenuItemsInput=function(t){e.setState(Object(o.a)({},t.target.name,t.target.value))},e.handleCreateMenuItems=function(t){t.preventDefault();var a={name:e.state.item_name,description:e.state.item_description,price:e.state.item_price,img_url:e.state.img_url,user_id:e.state.user_id,category:t.target.selectCategory.value};fetch("https://backend-metro-pizza.herokuapp.com/api/v1/menu_items",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({menu_item:a})}).then(alert("Item has been added"))},e.handleToggleDisplay=function(t){"createItemForm"===t.target.value?e.setState({toggleCreateItem:!0}):"viewOrders"===t.target.value&&e.setState({toggleCreateItem:!1})},e.state={isLogin:!1,usernameInput:"metro",passwordInput:"pizza",item_name:"",item_description:"",item_price:0,img_url:"",user_id:0,toggleCreateItem:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.isLogin?this.state.toggleCreateItem?r.a.createElement("div",null,r.a.createElement(j,{handleLogout:this.handleLogout,handleToggleDisplay:this.handleToggleDisplay}),r.a.createElement(w,{handleMenuItemsInput:this.handleMenuItemsInput,handleCreateMenuItems:this.handleCreateMenuItems}),r.a.createElement("hr",null),r.a.createElement(_,null)):r.a.createElement("div",null,r.a.createElement(j,{handleLogout:this.handleLogout,handleToggleDisplay:this.handleToggleDisplay}),r.a.createElement(D,null)):r.a.createElement("div",null,r.a.createElement(h.a,{as:"h1",textAlign:"center",color:"brown"},r.a.createElement(T,null),r.a.createElement("strong",null,"Metro Pizza Management Center"))," ",r.a.createElement("hr",null),r.a.createElement(L,{handleLoginSubmit:this.handleLoginSubmit,handleInputLogin:this.handleInputLogin,loginUser:this.state.usernameInput,loginPassword:this.state.passwordInput}),r.a.createElement(C.a,{panes:U,id:"tab_menu"}))}}]),t}(n.Component);var M=function(){return r.a.createElement("div",null,r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(320);i.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[183,1,2]]]);
//# sourceMappingURL=main.b48a145d.chunk.js.map